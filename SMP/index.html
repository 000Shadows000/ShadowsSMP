<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Ranking Shadows SMP</title>
  <link rel="stylesheet" href="styles.css">
</head>
<body>
  <header>
    <div class="header-logos">
  <img src="logo.png" alt="Shadows SMP" class="logo">
  <img src="ranking.png" alt="Ranking" class="ranking">
    </div>
  </header>

  <main>
    <section>
      <table id="rankingTable">
        <thead>
          <tr>
            <th>Posición</th>
            <th>Jugador</th>
            <th>Construcción</th>
            <th>Técnico</th>
            <th>PvP</th>
            <th>Total</th>
          </tr>
        </thead>
        <tbody>
          <!-- Aquí se insertarán los jugadores automáticamente -->
        </tbody>
      </table>
    </section>
  </main>

  <footer>
    <p>© 2025 Shadows SMP</p>
  </footer>

  <script>
    async function cargarJugadores() {
      const response = await fetch("jugadores.json");
      const jugadores = await response.json();

      const tbody = document.querySelector("#rankingTable tbody");
      tbody.innerHTML = ""; // limpiar antes de cargar

      // Insertar jugadores en la tabla
      jugadores.forEach(j => {
        const fila = document.createElement("tr");
        fila.innerHTML = `
          <td></td>
          <td>${j.nombre}</td>
          <td>${j.construccion}</td>
          <td>${j.tecnico}</td>
          <td>${j.pvp}</td>
          <td>${j.total}</td>
        `;
        tbody.appendChild(fila);
      });

      ordenarTabla();
    }

    function ordenarTabla() {
      const table = document.getElementById("rankingTable").tBodies[0];
      const rows = Array.from(table.rows);

      rows.sort((a, b) => {
        const pointsA = parseInt(a.cells[5].innerText, 10);
        const pointsB = parseInt(b.cells[5].innerText, 10);
        return pointsB - pointsA;
      });

      rows.forEach((row, index) => {
        row.cells[0].innerText = index + 1; // posición
        table.appendChild(row);
      });
    }

    window.onload = cargarJugadores;
  </script>
</body>
</html>


